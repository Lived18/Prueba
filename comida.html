<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Manaos Web</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="comida.css">
</head>
<body>
    <header>
        <div class="header-content">
            <div class="header-left">
                <!-- Botón para redireccionar al index -->
                <button onclick="window.location.href='index.html'">ManaosWeb</button>
            </div>
            <div class="header-center">
                <!-- Barra buscadora -->
                <form id="buscador-locales" action="#" method="get">
                    <input type="text" placeholder="Buscar..." name="busqueda" id="busqueda-locales" autocomplete="off">
                    <button type="submit">Buscar</button>
                </form>
            </div>
            <div class="header-right">
                <!-- Botón para reportar problemas -->
                <button onclick="window.open('https://docs.google.com/forms/d/e/1FAIpQLSfexO9c-7ScsMS8Y_tuyt_Z8ZBVI0SfnJPIaavuNdWhEDUYVA/viewform?usp=header')">Reportar Problema</button>
            </div>
        </div>
    </header>

    <h1>Hamburgueserías</h1>
    <h3>Artesanales</h3>

    <!-- Contenedor donde se cargan los locales dinámicamente -->
    <section class="locales-lista" id="lista-locales"></section>

    <footer>
        <div class="social">
            <button onclick="window.open('https://facebook.com', '_blank')">Facebook</button>
            <button onclick="window.open('https://tiktok.com', '_blank')">TikTok</button>
            <button onclick="window.open('https://instagram.com', '_blank')">Instagram</button>
        </div>
        <p>Todos los derechos reservados</p>
    </footer>

    <script>
        //Funcion Cargar locales
    async function cargarLocales() {
        const respuesta = await fetch("locales.json");
        const locales = await respuesta.json();
        const contenedor = document.getElementById("lista-locales");
        contenedor.innerHTML = "";

        locales.forEach(local => {
            contenedor.innerHTML += `
                <div class="local">
                    <div>
                        <h2>${local.nombre}</h2>
                        <p>${local.dirección} / ${local.numero}</p>
                    </div>
                    <div class="redes">
                        <button onclick="window.open('${local.instagram}', '_blank')" title="Instagram" style="background:none; border:none; cursor:pointer; padding:0;">
                            <img src="imagenes/insta logo.png" alt="Instagram" width="40" height="40">
                        </button>
                        <button onclick="window.open('${local.whatsapp}', '_blank')" title="WhatsApp" style="background:none; border:none; cursor:pointer; padding:0;">
                            <img src="imagenes/LOGO whatgs.png" alt="WhatsApp" width="40" height="40">
                        </button>
                    </div>
                </div>
            `;
        });
    }


    cargarLocales();


        //Buscador de locales

     document.getElementById('buscador-locales').addEventListener('submit', function(e) {
        e.preventDefault();
        const filtro = document.getElementById('busqueda-locales').value.toLowerCase();
        const locales = document.querySelectorAll('.locales-lista .local');
        locales.forEach(local => {
            const nombre = local.querySelector('h2').textContent.toLowerCase();
            const info = local.querySelector('p').textContent.toLowerCase();
            if (nombre.includes(filtro) || info.includes(filtro)) {
                local.style.display = '';
            } else {
                local.style.display = 'none';
            }
        });
    });


    //mostrar todos los locales si el campo de búsqueda está vacío
    document.getElementById('busqueda-locales').addEventListener('input', function() {
        if (this.value === '') {
            document.querySelectorAll('.locales-lista .local').forEach(local => {
                local.style.display = '';
            });
        }
    });
    </script>
</body>
</html>